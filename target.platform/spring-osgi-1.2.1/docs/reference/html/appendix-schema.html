<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Appendix&nbsp;H.&nbsp;Spring Dynamic Modules Schema</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Spring Dynamic Modules Reference Guide"><link rel="up" href="appendixes.html" title="Part&nbsp;IV.&nbsp;Appendixes"><link rel="prev" href="appendix-osgi-repo.html" title="Appendix&nbsp;G.&nbsp;Spring DM OSGi Repository"><link rel="next" href="appendix-ack.html" title="Appendix&nbsp;I.&nbsp;Acknowledgments"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns:fo="http://www.w3.org/1999/XSL/Format" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.springframework.org/osgi/" title="The Spring Framework - Spring Dynamic Modules"><img style="border:none;" src="images/xdev-spring_logo.jpg"></a><a style="border:none;" href="http://www.SpringSource.com/" title="SpringSource - Spring from the Source"><img style="border:none;position:absolute;padding-top:5px;right:42px;" src="images/s2-banner-rhs.png"></a></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="appendix-schema"></a>Appendix&nbsp;H.&nbsp;Spring Dynamic Modules Schema</h2></div></div></div><p>Spring Core Schema</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;

&lt;xsd:schema xmlns="http://www.springframework.org/schema/osgi"
        xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:beans="http://www.springframework.org/schema/beans"
        xmlns:tool="http://www.springframework.org/schema/tool"
        targetNamespace="http://www.springframework.org/schema/osgi"
        elementFormDefault="qualified"
        attributeFormDefault="unqualified"
        version="1.2"&gt;

	&lt;xsd:import namespace="http://www.w3.org/XML/1998/namespace"/&gt;
    &lt;xsd:import namespace="http://www.springframework.org/schema/beans"/&gt;
    &lt;xsd:import namespace="http://www.springframework.org/schema/tool"/&gt;

    &lt;xsd:annotation&gt;
        &lt;xsd:documentation&gt;&lt;![CDATA[
    Namespace support for the core services provided by Spring Dynamic Modules.
        ]]&gt;&lt;/xsd:documentation&gt;
    &lt;/xsd:annotation&gt;
    
    &lt;xsd:attributeGroup name="defaults"&gt;
    	&lt;xsd:annotation&gt;
    		&lt;xsd:documentation&gt;&lt;![CDATA[Defaults for Spring-DM OSGi declarations.]]&gt;
    		&lt;/xsd:documentation&gt;
    	&lt;/xsd:annotation&gt;
    	&lt;!-- attributes --&gt;
    	&lt;xsd:attribute name="default-timeout" type="xsd:long" default="30000"&gt;
    		&lt;xsd:annotation&gt;
    			&lt;xsd:documentation&gt;&lt;![CDATA[
    Default timeout (in milliseconds) for all reference (service importers) elements that do not explicitly specify one.
    Default value is 300000 ms (5 minutes).
    			]]&gt;&lt;/xsd:documentation&gt;
    		&lt;/xsd:annotation&gt;
    	&lt;/xsd:attribute&gt;
    	&lt;xsd:attribute name="default-cardinality" type="TdefaultCardinalityOptions" default="1..X"&gt;
    		&lt;xsd:annotation&gt;
    			&lt;xsd:documentation&gt;&lt;![CDATA[
    Default cardinality (of the relationship to the backing service(s)) for all OSGi references (singular or collections) 
    elements that do not explicitly specify one.
    Default value is '1..X' (resolved to '1..1' for osgi:reference and '1..N' for osgi:list/set) which means that a backing 
    service must exist (this is a mandatory service reference). A value of '0..X' (resolved to '0..1' for osgi:reference 
    and '0..N' for osgi:list/set) indicates that it is acceptable to be no backing service (an optional service reference).
        		]]&gt;&lt;/xsd:documentation&gt;
        	&lt;/xsd:annotation&gt;
        &lt;/xsd:attribute&gt;
    &lt;/xsd:attributeGroup&gt;
    
    &lt;xsd:simpleType name="TdefaultCardinalityOptions"&gt;
        &lt;xsd:restriction base="xsd:string"&gt;
            &lt;xsd:enumeration value="1..X"&gt;
            	&lt;xsd:annotation&gt;
            		&lt;xsd:documentation&gt;&lt;![CDATA[
    A backing service must exist (this is a mandatory service reference).
            		]]&gt;&lt;/xsd:documentation&gt;
            	&lt;/xsd:annotation&gt;
            &lt;/xsd:enumeration&gt;
            &lt;xsd:enumeration value="0..X"&gt;
            	&lt;xsd:annotation&gt;
            		&lt;xsd:documentation&gt;&lt;![CDATA[
    A backing service can be missing (this is an optional service reference).
            		]]&gt;&lt;/xsd:documentation&gt;
            	&lt;/xsd:annotation&gt;
            &lt;/xsd:enumeration&gt;
        &lt;/xsd:restriction&gt;
    &lt;/xsd:simpleType&gt;
	
    &lt;!-- reference --&gt;
    &lt;xsd:element name="reference" type="TsingleReference"&gt;
        &lt;xsd:annotation&gt;
            &lt;xsd:documentation&gt;&lt;![CDATA[
    Defines a reference to a service obtained via the OSGi service registry.
            ]]&gt;&lt;/xsd:documentation&gt;
        &lt;/xsd:annotation&gt;
    &lt;/xsd:element&gt;

    &lt;xsd:complexType name="Treference"&gt;
        &lt;xsd:complexContent&gt;
            &lt;xsd:extension base="beans:identifiedType"&gt;
                &lt;xsd:sequence minOccurs="0" maxOccurs="1"&gt;
                	&lt;xsd:element name="interfaces" type="beans:listOrSetType" minOccurs="0" maxOccurs="1"&gt;
                    	&lt;xsd:annotation&gt;
                    		&lt;xsd:documentation&gt;&lt;![CDATA[
	The set of service interfaces that the services obtained via the registry are required to support.
    By convention, the interface attribute is a Java interface type, but may also be a (non-final)
    class type.
                    		]]&gt;&lt;/xsd:documentation&gt;
                    	&lt;/xsd:annotation&gt;
                    &lt;/xsd:element&gt;                
                    &lt;xsd:element name="listener" type="Tlistener" minOccurs="0" maxOccurs="unbounded"&gt;
                      &lt;xsd:annotation&gt;
                      	&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines a listener that will receive notification when a service backing this reference is 
    bound or unbound. 
                      	]]&gt;&lt;/xsd:documentation&gt;
                      &lt;/xsd:annotation&gt;
                    &lt;/xsd:element&gt;
                &lt;/xsd:sequence&gt;
                &lt;xsd:attribute name="interface" use="optional" type="xsd:token"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    The service interface that the services obtained via the registry are required to support.
    By convention this is a Java interface type, but may also be a (non-final) class type.
                		]]&gt;&lt;/xsd:documentation&gt;
                		&lt;xsd:appinfo&gt;
                			&lt;tool:annotation&gt;
                				&lt;tool:expected-type type="java.lang.Class" /&gt;
                			&lt;/tool:annotation&gt;
                		&lt;/xsd:appinfo&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="filter" use="optional" type="xsd:string"&gt;
                      &lt;xsd:annotation&gt;
                      	&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines an OSGi filter expression that is used to constrain the set of matching services
    in the service registry. 
                      	]]&gt;&lt;/xsd:documentation&gt;
                      &lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="depends-on" type="xsd:string" use="optional"&gt;
					&lt;xsd:annotation&gt;
						&lt;xsd:documentation&gt;&lt;![CDATA[
	Used to refer to the name of another bean that this bean depends on. Ensures that the
	service registry look-up does not happen until after the dependent bean has been created 
	(most commonly used to refer to a bundle bean).
						]]&gt;&lt;/xsd:documentation&gt;
					&lt;/xsd:annotation&gt;                
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="bean-name" type="xsd:string" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Convenient shortcut for specifying a filter expression that matches on the bean-name property
    that is automatically advertised for beans published using the service element.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="context-class-loader" type="TreferenceClassLoaderOptions" default="client"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines how the context class loader is managed when invoking operations on a service
    backing this service reference. The default value is 'client' which means that the context
    class loader has visibility of the resources on this bundle's classpath. Alternate
    options are 'service-provider' which means that the context class loader has visibility of 
    resources on the bundle classpath of the bundle that exported the service, and 'unmanaged'
    which does not do any management of the context class loader.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
            &lt;/xsd:extension&gt;
        &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;
    
    &lt;xsd:simpleType name="TreferenceClassLoaderOptions"&gt;
        &lt;xsd:restriction base="xsd:NMTOKEN"&gt;
            &lt;xsd:enumeration value="client"/&gt;
            &lt;xsd:enumeration value="service-provider"/&gt;
            &lt;xsd:enumeration value="unmanaged"/&gt;
        &lt;/xsd:restriction&gt;
    &lt;/xsd:simpleType&gt;

    &lt;xsd:complexType name="Tlistener"&gt;
    	&lt;xsd:annotation&gt;
    		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines a listener that will be notified when the service backing the enclosing service reference element is bound or 
    unbound. Use either the 'ref' attribute or a nested bean declaration for the listener bean.
    		]]&gt;&lt;/xsd:documentation&gt;
    	&lt;/xsd:annotation&gt;
        &lt;xsd:sequence minOccurs="0" maxOccurs="1"&gt;
            &lt;!-- nested bean declaration --&gt;
            &lt;xsd:any namespace="##other" minOccurs="1" maxOccurs="1" processContents="skip"/&gt;
        &lt;/xsd:sequence&gt;

        &lt;!-- shortcut for bean references --&gt;
        &lt;xsd:attribute name="ref" type="xsd:string" use="optional"&gt;
        	&lt;xsd:annotation&gt;
        		&lt;xsd:documentation&gt;&lt;![CDATA[
    Refers by name to the bean that will receive bind and unbind events
        		]]&gt;&lt;/xsd:documentation&gt;
        	&lt;/xsd:annotation&gt;
        &lt;/xsd:attribute&gt;
        &lt;xsd:attribute name="bind-method" type="xsd:token" use="optional"&gt;
        	&lt;xsd:annotation&gt;
        		&lt;xsd:documentation&gt;&lt;![CDATA[
    The name of the method to be invoked when a backing service is bound.
        		]]&gt;&lt;/xsd:documentation&gt;
        	&lt;/xsd:annotation&gt;
        &lt;/xsd:attribute&gt;
        &lt;xsd:attribute name="unbind-method" type="xsd:token" use="optional"&gt;
        	&lt;xsd:annotation&gt;
        		&lt;xsd:documentation&gt;&lt;![CDATA[
    The name of the method to be invoked when a backing service is unbound.
        		]]&gt;&lt;/xsd:documentation&gt;
        	&lt;/xsd:annotation&gt;
        &lt;/xsd:attribute&gt;
    &lt;/xsd:complexType&gt;
    
    &lt;!-- single reference --&gt;
    &lt;xsd:complexType name="TsingleReference"&gt;
        &lt;xsd:complexContent&gt;
            &lt;xsd:extension base="Treference"&gt;
                 &lt;xsd:attribute name="cardinality" use="optional" type="TsingleReferenceCardinality"&gt;
                	&lt;xsd:annotation&gt;
                      	&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines the required cardinality of the relationship to the backing service. If not specified, 
    the default-cardinality attribute will apply. A value is '1..1' means that a backing service 
    must exist (this is a mandatory service reference). A value of '0..1' indicates that it is 
    acceptable to be no backing service (an optional service reference).
                      	]]&gt;&lt;/xsd:documentation&gt;
                      &lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
				&lt;xsd:attribute name="timeout" use="optional" type="xsd:long"&gt;
                    &lt;xsd:annotation&gt;
                      	&lt;xsd:documentation&gt;&lt;![CDATA[
    For a 'reference' element, the amount of time (in milliseconds) to wait for a backing service to be 
    available when an operation is invoked. If not specified, the default-timeout attribute will apply.
    See also the default-timeout attribute of the osgi element.
                      	]]&gt;&lt;/xsd:documentation&gt;
                      &lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
            &lt;/xsd:extension&gt;
        &lt;/xsd:complexContent&gt;
   &lt;/xsd:complexType&gt;
   
   &lt;xsd:simpleType name="TsingleReferenceCardinality"&gt;
        &lt;xsd:restriction base="xsd:token"&gt;
            &lt;xsd:enumeration value="1..1"/&gt;
            &lt;xsd:enumeration value="0..1"/&gt;
        &lt;/xsd:restriction&gt;
   &lt;/xsd:simpleType&gt;

	&lt;!-- reference collections (set, list) --&gt;
	&lt;xsd:element name="list" type="TreferenceCollection"&gt;
		&lt;xsd:annotation&gt;
			&lt;xsd:documentation source="java:org.springframework.osgi.service.importer.support.OsgiServiceCollectionProxyFactoryBean"&gt;&lt;![CDATA[
	Defines a bean of type 'List' that contains all of the services matching the given criteria.
	The list members are managed dynamically as matching backing services come and go.
			]]&gt;&lt;/xsd:documentation&gt;
			&lt;xsd:appinfo&gt;
				&lt;tool:annotation&gt;
					&lt;tool:exports type="java.util.List"/&gt;
				&lt;/tool:annotation&gt;
			&lt;/xsd:appinfo&gt;			
		&lt;/xsd:annotation&gt;
	&lt;/xsd:element&gt;

	&lt;xsd:element name="set" type="TreferenceCollection"&gt;
		&lt;xsd:annotation&gt;
			&lt;xsd:documentation source="java:org.springframework.osgi.service.importer.support.OsgiServiceCollectionProxyFactoryBean"&gt;&lt;![CDATA[
	Defines a bean of type 'Set' that contains all of the services matching the given criteria.
	The set members are managed dynamically as matching backing services come and go.
			]]&gt;&lt;/xsd:documentation&gt;
			&lt;xsd:appinfo&gt;
				&lt;tool:annotation&gt;
					&lt;tool:exports type="java.util.Set"/&gt;
				&lt;/tool:annotation&gt;
			&lt;/xsd:appinfo&gt;			
		&lt;/xsd:annotation&gt;
	&lt;/xsd:element&gt;

	&lt;xsd:complexType name="TreferenceCollection"&gt;
		&lt;xsd:complexContent&gt;
			&lt;xsd:extension base="Treference"&gt;
				&lt;xsd:sequence minOccurs="0" maxOccurs="1"&gt;
					&lt;xsd:element name="comparator" type="Tcomparator"&gt;
						&lt;xsd:annotation&gt;
							&lt;xsd:documentation source="java:java.util.Comparator"&gt;&lt;![CDATA[
	Used to define an inline bean of type Comparator that will be used to sort the matching services.
							]]&gt;&lt;/xsd:documentation&gt;
							&lt;xsd:appinfo&gt;
								&lt;tool:annotation&gt;
									&lt;tool:expected-type type="java.util.Comparator" /&gt;
  								&lt;/tool:annotation&gt;
							&lt;/xsd:appinfo&gt;
						&lt;/xsd:annotation&gt;
					&lt;/xsd:element&gt;
				&lt;/xsd:sequence&gt;
				&lt;xsd:attribute name="comparator-ref" type="xsd:string" use="optional"&gt;
					&lt;xsd:annotation&gt;
						&lt;xsd:documentation&gt;&lt;![CDATA[
	Used to refer to a named bean implementing the Comparator interface that will be used to 
	sort the matching services.
						]]&gt;&lt;/xsd:documentation&gt;
					&lt;/xsd:annotation&gt;
				&lt;/xsd:attribute&gt;
			
			    &lt;xsd:attribute name="cardinality" use="optional" type="TcollectionCardinality"&gt;
                	&lt;xsd:annotation&gt;
                      	&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines the required cardinality of the relationship to the backing services. If not specified, 
    the default-cardinality attribute will apply. A value of '1..N' means that at least one backing 
    service must exist (this is a mandatory service reference. A value of '0..N' indicates that it 
    is acceptable for there to be no backing service (an optional service reference).
                      	]]&gt;&lt;/xsd:documentation&gt;
                      &lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;

			    &lt;xsd:attribute name="greedy-proxying" use="optional" type="xsd:boolean" default="false"&gt;
                	&lt;xsd:annotation&gt;
                      	&lt;xsd:documentation&gt;&lt;![CDATA[
    Indicates whether the proxies created for the imported OSGi services will be generated using 
    just the classes specified (false) or all the classes exported by the service and visible to
    the importing bundle (true). The default value is false.
                      	]]&gt;&lt;/xsd:documentation&gt;
                      &lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;				
                				
			&lt;/xsd:extension&gt;
		&lt;/xsd:complexContent&gt;
	&lt;/xsd:complexType&gt;
	
	&lt;xsd:complexType name="Tcomparator"&gt;
		&lt;xsd:annotation&gt;
			&lt;xsd:documentation source="java:java.util.Comparator"&gt;&lt;![CDATA[
	Used to define an inline bean of type Comparator that will be used to sort the matching services.
			]]&gt;&lt;/xsd:documentation&gt;
			&lt;xsd:appinfo&gt;
				&lt;tool:annotation&gt;
					&lt;tool:exports type="java.util.Comparator" /&gt;
  				&lt;/tool:annotation&gt;
			&lt;/xsd:appinfo&gt;
		&lt;/xsd:annotation&gt;
		&lt;xsd:choice&gt;
		   &lt;xsd:element name="natural" type="TnaturalOrdering"/&gt;
     	   &lt;xsd:sequence minOccurs="1" maxOccurs="1"&gt;
        	    &lt;!-- nested bean declaration --&gt;
           		&lt;xsd:any namespace="##other" minOccurs="1" maxOccurs="1" processContents="skip"/&gt;
        	&lt;/xsd:sequence&gt;
        &lt;/xsd:choice&gt;
	&lt;/xsd:complexType&gt;
	
	&lt;xsd:complexType name="TnaturalOrdering"&gt;
		&lt;xsd:attribute name="basis" type="TorderingBasis" use="required"/&gt;
	&lt;/xsd:complexType&gt;
	
	&lt;xsd:simpleType name="TorderingBasis"&gt;
		&lt;xsd:restriction base="xsd:token"&gt;
            &lt;xsd:enumeration value="service"/&gt;
            &lt;xsd:enumeration value="service-reference"/&gt;
        &lt;/xsd:restriction&gt;
	&lt;/xsd:simpleType&gt;
	
	&lt;xsd:simpleType name="TcollectionCardinality"&gt;
        &lt;xsd:restriction base="xsd:token"&gt;
            &lt;xsd:enumeration value="1..N"/&gt;
            &lt;xsd:enumeration value="0..N"/&gt;
        &lt;/xsd:restriction&gt;
   &lt;/xsd:simpleType&gt;
	
    &lt;!-- service --&gt;
    
    &lt;xsd:element name="service" type="Tservice"/&gt;

    &lt;xsd:complexType name="TbaseService"&gt;
        &lt;xsd:complexContent&gt;
           &lt;xsd:extension base="beans:identifiedType"&gt;
                &lt;xsd:attribute name="interface" type="xsd:token" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines the interface to advertise for this service in the service registry.
                		]]&gt;&lt;/xsd:documentation&gt;
						&lt;xsd:appinfo&gt;
							&lt;tool:annotation&gt;
  								&lt;tool:expected-type type="java.lang.Class" /&gt;
  							&lt;/tool:annotation&gt;
						&lt;/xsd:appinfo&gt;  							
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="depends-on" type="xsd:string" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Used to ensure that the service is not exported to the registry before the named bean
    has been created. 
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="context-class-loader" type="TserviceClassLoaderOptions" default="unmanaged"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines how the context class loader will be managed when an operation is invoked on the 
    exported service. The default value is 'unmanaged' which means that no management of 
    the context class loader is attempted. A value of 'service-provider' guarantees that
    the context class loader will have visibility of all the resources on the class path of 
    bundle exporting the service.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="auto-export" type="TautoExportModes" default="disabled"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Enables Spring to automatically manage the set of service interfaces advertised for the
    service. By default this facility is disabled. A value of 'interfaces' advertises all 
    of the Java interfaces supported by the exported service. A value of 'class-hierarchy' 
    advertises all the Java classes in the hierarchy of the exported service. A value of 
    'all-classes' advertises all Java interfaces and classes. 
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
        	&lt;/xsd:extension&gt;
        &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;
    
    &lt;xsd:complexType name="Tservice"&gt;
    	&lt;xsd:annotation&gt;
    		&lt;xsd:documentation source="java:org.springframework.osgi.service.exporter.support.OsgiServiceFactoryBean"&gt;&lt;![CDATA[
    Exports the reference bean as a service in the OSGi service registry. The bean defined by this element is of 
    type org.osgi.framework.ServiceRegistration.
    		]]&gt;&lt;/xsd:documentation&gt;
			&lt;xsd:appinfo&gt;
				&lt;tool:annotation&gt;
					&lt;tool:exports type="org.osgi.framework.ServiceRegistration"/&gt;
				&lt;/tool:annotation&gt;
			&lt;/xsd:appinfo&gt;			
    	&lt;/xsd:annotation&gt;
        &lt;xsd:complexContent&gt;
            &lt;xsd:extension base="TbaseService"&gt;
            	&lt;xsd:sequence minOccurs="0" maxOccurs="1"&gt;
                    &lt;xsd:element name="interfaces" type="beans:listOrSetType" minOccurs="0" maxOccurs="1"&gt;
                    	&lt;xsd:annotation&gt;
                    		&lt;xsd:documentation&gt;&lt;![CDATA[
    The set of service interfaces to advertise in the service registry.
                    		]]&gt;&lt;/xsd:documentation&gt;
                    	&lt;/xsd:annotation&gt;
                    &lt;/xsd:element&gt;
                    &lt;xsd:element name="registration-listener" type="TserviceRegistrationListener" minOccurs="0" maxOccurs="unbounded"&gt;
                    	&lt;xsd:annotation&gt;
                    		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines a listener that will be notified when this service is registered or unregistered in the
    OSGi service registry.
                    		]]&gt;&lt;/xsd:documentation&gt;
                    	&lt;/xsd:annotation&gt;
                	&lt;/xsd:element&gt;
                    &lt;xsd:element name="service-properties" type="beans:mapType" minOccurs="0" maxOccurs="1"&gt;
                       	&lt;xsd:annotation&gt;
                    		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines the service properties.
                    		]]&gt;&lt;/xsd:documentation&gt;
                    	&lt;/xsd:annotation&gt;
                    &lt;/xsd:element&gt;
                    &lt;!-- nested bean declaration --&gt;
                	&lt;xsd:any namespace="##other" minOccurs="0" maxOccurs="1" processContents="skip"/&gt;
                &lt;/xsd:sequence&gt;
                &lt;xsd:attribute name="ref" type="xsd:string" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Refers to the named bean to be exported as a service in the service registry.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="ranking" type="xsd:int" default="0"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Specify the service ranking to be used when advertising the service.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
            &lt;/xsd:extension&gt;
        &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;

    &lt;xsd:complexType name="TserviceRegistrationListener"&gt;
    	&lt;xsd:annotation&gt;
    		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines a listener that will be notified when the bean is registered or unregistered in the OSGi Service Registry. 
    Use either the 'ref' attribute or a nested bean declaration for the listener bean.
    		]]&gt;&lt;/xsd:documentation&gt;
    	&lt;/xsd:annotation&gt;
        &lt;xsd:sequence minOccurs="0" maxOccurs="1"&gt;
            &lt;!-- nested bean declaration --&gt;
            &lt;xsd:any namespace="##other" minOccurs="1" maxOccurs="1" processContents="skip"/&gt;
        &lt;/xsd:sequence&gt;

        &lt;!-- shortcut for bean references --&gt;
        &lt;xsd:attribute name="ref" type="xsd:string" use="optional"&gt;
        	&lt;xsd:annotation&gt;
        		&lt;xsd:documentation&gt;&lt;![CDATA[
    Refers by name to the bean that will receive register and unregister events.
        		]]&gt;&lt;/xsd:documentation&gt;
        	&lt;/xsd:annotation&gt;
        &lt;/xsd:attribute&gt;
        &lt;xsd:attribute name="registration-method" type="xsd:token" use="optional"&gt;
        	&lt;xsd:annotation&gt;
        		&lt;xsd:documentation&gt;&lt;![CDATA[
    The name of the method to be invoked when the service is registered.
        		]]&gt;&lt;/xsd:documentation&gt;
        	&lt;/xsd:annotation&gt;
        &lt;/xsd:attribute&gt;
        &lt;xsd:attribute name="unregistration-method" type="xsd:token" use="optional"&gt;
        	&lt;xsd:annotation&gt;
        		&lt;xsd:documentation&gt;&lt;![CDATA[
    The name of the method to be invoked when the service is unregistered.
        		]]&gt;&lt;/xsd:documentation&gt;
        	&lt;/xsd:annotation&gt;
        &lt;/xsd:attribute&gt;
    &lt;/xsd:complexType&gt;

    &lt;xsd:simpleType name="TserviceClassLoaderOptions"&gt;
        &lt;xsd:restriction base="xsd:token"&gt;
            &lt;xsd:enumeration value="service-provider"/&gt;
            &lt;xsd:enumeration value="unmanaged"/&gt;
        &lt;/xsd:restriction&gt;
    &lt;/xsd:simpleType&gt;

    &lt;xsd:simpleType name="TautoExportModes"&gt;
        &lt;xsd:restriction base="xsd:token"&gt;
            &lt;xsd:enumeration value="disabled"/&gt;
            &lt;xsd:enumeration value="interfaces"/&gt;
            &lt;xsd:enumeration value="class-hierarchy"/&gt;
            &lt;xsd:enumeration value="all-classes"/&gt;
        &lt;/xsd:restriction&gt;
    &lt;/xsd:simpleType&gt;

    &lt;!-- bundle --&gt;

    &lt;xsd:element name="bundle" type="Tbundle"&gt;
    	&lt;xsd:annotation&gt;
    		&lt;xsd:documentation source="java:org.springframework.osgi.bundle.BundleFactoryBean"&gt;&lt;![CDATA[
    Defines a bean representing a Bundle object. May be used to drive bean lifecycle transitions.
    		]]&gt;&lt;/xsd:documentation&gt;
			&lt;xsd:appinfo&gt;
				&lt;tool:annotation&gt;
					&lt;tool:exports type="org.osgi.framework.Bundle"/&gt;
				&lt;/tool:annotation&gt;
			&lt;/xsd:appinfo&gt;    		
    	&lt;/xsd:annotation&gt;
    &lt;/xsd:element&gt;

    &lt;xsd:complexType name="Tbundle"&gt;
        &lt;xsd:complexContent&gt;
            &lt;xsd:extension base="beans:identifiedType"&gt;
              	&lt;!-- optional nested bean declaration --&gt;
                &lt;xsd:sequence minOccurs="0" maxOccurs="1"&gt;
		    		&lt;xsd:any namespace="##other" minOccurs="1" maxOccurs="1" processContents="lax"&gt;
            		   	&lt;xsd:annotation&gt;
                    		&lt;xsd:documentation&gt;&lt;![CDATA[
    OSGi bundle to work with.
                    		]]&gt;&lt;/xsd:documentation&gt;
							&lt;xsd:appinfo&gt;
								&lt;tool:annotation&gt;
  									&lt;tool:expected-type type="org.osgi.framework.Bundle" /&gt;
  								&lt;/tool:annotation&gt;
							&lt;/xsd:appinfo&gt;  							
                    	&lt;/xsd:annotation&gt;
            		&lt;/xsd:any&gt;
        		&lt;/xsd:sequence&gt;
        		
                &lt;xsd:attribute name="symbolic-name" type="xsd:string" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    The bundle symbolic name of the bundle object. Normally used when interacting with an already
    installed bundle.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="depends-on" type="xsd:string" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Indicates that this bundle object should not be created until the named bean has been created.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
               
                &lt;xsd:attribute name="location" type="xsd:string" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Location used to install, update or/and identify a bundle.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="action" type="TbundleAction" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Lifecyle action to drive on the bundle. 'start' starts the bundle, installing if necessary.
    'stop' stops the bundle if it is currently ACTIVE. 'install' installs the bundle if it is 
    currently uninstalled. 'uninstall' stops the bundle if needed, and then uninstalls it.
    'update' installs the bundle if needed, and then invokes the Bundle.update() operation.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="destroy-action" type="TbundleAction" use="optional"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Lifecyle action to drive on the bundle. 'start' starts the bundle, installing if necessary.
    'stop' stops the bundle if it is currently ACTIVE. 'install' installs the bundle if it is 
    currently uninstalled. 'uninstall' stops the bundle if needed, and then uninstalls it.
    'update' installs the bundle if needed, and then invokes the Bundle.update() operation.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
                &lt;xsd:attribute name="start-level" type="xsd:int" use="optional" default="0"&gt;
                	&lt;xsd:annotation&gt;
                		&lt;xsd:documentation&gt;&lt;![CDATA[
    Start level to set for the bundle.
                		]]&gt;&lt;/xsd:documentation&gt;
                	&lt;/xsd:annotation&gt;
                &lt;/xsd:attribute&gt;
            &lt;/xsd:extension&gt;
        &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;

    &lt;xsd:simpleType name="TbundleAction"&gt;
        &lt;xsd:restriction base="xsd:token"&gt;
            &lt;xsd:enumeration value="start"/&gt;
            &lt;xsd:enumeration value="stop"/&gt;
            &lt;xsd:enumeration value="install"/&gt;
            &lt;xsd:enumeration value="uninstall"/&gt;
            &lt;xsd:enumeration value="update"/&gt;
        &lt;/xsd:restriction&gt;
    &lt;/xsd:simpleType&gt;

&lt;/xsd:schema&gt;
    </pre><p>Spring Compendium Schema</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;

&lt;xsd:schema xmlns="http://www.springframework.org/schema/osgi-compendium"
            xmlns:xsd="http://www.w3.org/2001/XMLSchema"
            xmlns:beans="http://www.springframework.org/schema/beans"
            xmlns:osgi="http://www.springframework.org/schema/osgi"
            xmlns:tool="http://www.springframework.org/schema/tool"
            targetNamespace="http://www.springframework.org/schema/osgi-compendium"
            elementFormDefault="qualified"
            attributeFormDefault="unqualified"
            version="1.2"&gt;

	&lt;xsd:import namespace="http://www.w3.org/XML/1998/namespace"/&gt;
    &lt;xsd:import namespace="http://www.springframework.org/schema/beans"/&gt;
    &lt;xsd:import namespace="http://www.springframework.org/schema/tool"/&gt;
    &lt;xsd:import namespace="http://www.springframework.org/schema/osgi" 
    	schemaLocation="http://www.springframework.org/schema/osgi/spring-osgi.xsd"/&gt; 
    

    &lt;xsd:annotation&gt;
        &lt;xsd:documentation&gt;&lt;![CDATA[
    Namespace support for the compendium services provided by Spring Dynamic Modules.
        ]]&gt;&lt;/xsd:documentation&gt;
    &lt;/xsd:annotation&gt;

	&lt;!-- internal reusable type --&gt;
	&lt;xsd:attributeGroup name="updateAttributes"&gt;
		&lt;xsd:attribute name="update-strategy" use="optional"&gt;
			&lt;xsd:annotation&gt;
				&lt;xsd:documentation&gt;&lt;![CDATA[
	The strategy to use when the configuration data backing the beans defined by this element is 
	updated. The default value is 'none', meaning that any update after the initial configuration
	of the beans is ignored. A value of 'bean-managed' means that the method specified in the
	'update-method' attribute will be invoked. A value of 'container-managed' means that the container
	will autowire the bean instance by name with the new property set.
				]]&gt;&lt;/xsd:documentation&gt;
			&lt;/xsd:annotation&gt;
			&lt;xsd:simpleType&gt;
				&lt;xsd:restriction base="xsd:string"&gt;
		            &lt;xsd:enumeration value="none"/&gt;
		            &lt;xsd:enumeration value="bean-managed"/&gt;
		            &lt;xsd:enumeration value="container-managed"/&gt;
		        &lt;/xsd:restriction&gt;
			&lt;/xsd:simpleType&gt;
		&lt;/xsd:attribute&gt;
		&lt;xsd:attribute name="update-method" type="xsd:string" use="optional"&gt;
			&lt;xsd:annotation&gt;
				&lt;xsd:documentation&gt;&lt;![CDATA[
	The update-method to invoke when using a 'bean-managed' update strategy.
				]]&gt;&lt;/xsd:documentation&gt;
			&lt;/xsd:annotation&gt;
		&lt;/xsd:attribute&gt;			
	&lt;/xsd:attributeGroup&gt;
    
    
    &lt;xsd:element name="managed-properties"&gt;
    	&lt;xsd:annotation&gt;
    		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines a bean based on the given class name and configuration, with properties autowired-by-name 
    based on the configuration stored under the given persistent id.
    		]]&gt;&lt;/xsd:documentation&gt;
    	&lt;/xsd:annotation&gt;
    	&lt;xsd:complexType&gt;
	       	&lt;xsd:attributeGroup ref="updateAttributes"/&gt;
		    &lt;xsd:attribute name="persistent-id" type="xsd:string" use="required"&gt;
				&lt;xsd:annotation&gt;
					&lt;xsd:documentation&gt;&lt;![CDATA[
	The persistent-id under which the configuration for this bean is stored in 
	the Configuration Admin service.
					]]&gt;&lt;/xsd:documentation&gt;
				&lt;/xsd:annotation&gt;
			&lt;/xsd:attribute&gt;
		&lt;/xsd:complexType&gt;
	&lt;/xsd:element&gt;
	
    &lt;!--  managed-service-factory --&gt;

    &lt;xsd:element name="managed-service-factory"&gt;
       	&lt;xsd:annotation&gt;
    		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines a collection of beans based on the given class name, with properties autowired-by-name based
    on the configuration sets stored under the given factory persistent id.
    		]]&gt;&lt;/xsd:documentation&gt;
    	&lt;/xsd:annotation&gt;
        &lt;xsd:complexType&gt;
        	&lt;xsd:complexContent&gt;
	            &lt;xsd:extension base="osgi:TbaseService"&gt;
	            	&lt;xsd:sequence&gt;
	                    &lt;xsd:element name="interfaces" type="beans:listOrSetType" minOccurs="0" maxOccurs="1"&gt;
	                    	&lt;xsd:annotation&gt;
	                    		&lt;xsd:documentation&gt;&lt;![CDATA[
    The set of service interfaces to advertise in the service registry.
	                    		]]&gt;&lt;/xsd:documentation&gt;
	                    	&lt;/xsd:annotation&gt;
	                    &lt;/xsd:element&gt;
	                    &lt;xsd:element name="registration-listener" type="osgi:TserviceRegistrationListener" minOccurs="0" maxOccurs="unbounded"&gt;
	                    	&lt;xsd:annotation&gt;
	                    		&lt;xsd:documentation&gt;&lt;![CDATA[
    Defines a listener that will be notified when this service is registered or unregistered in the
    OSGi service registry.
	                    		]]&gt;&lt;/xsd:documentation&gt;
	                    	&lt;/xsd:annotation&gt;
	                	&lt;/xsd:element&gt;
		            	&lt;!-- the bean definition template --&gt;
	                    &lt;xsd:any namespace="##other" minOccurs="1" maxOccurs="1" processContents="skip"&gt;
	   				       	&lt;xsd:annotation&gt;
	                    		&lt;xsd:documentation&gt;&lt;![CDATA[
	Defines the service definition template.
	                    		]]&gt;&lt;/xsd:documentation&gt;
	                    	&lt;/xsd:annotation&gt;
	                    &lt;/xsd:any&gt;
		           	&lt;/xsd:sequence&gt;
		           	&lt;xsd:attribute name="factory-pid" type="xsd:string" use="required"&gt;
						&lt;xsd:annotation&gt;
							&lt;xsd:documentation&gt;&lt;![CDATA[
	The persistent-id under which the configuration for this bean is stored in 
	the Configuration Admin service.
							]]&gt;&lt;/xsd:documentation&gt;
						&lt;/xsd:annotation&gt;
					&lt;/xsd:attribute&gt;
					&lt;xsd:attributeGroup ref="updateAttributes"/&gt;
				&lt;/xsd:extension&gt;
			&lt;/xsd:complexContent&gt;
		&lt;/xsd:complexType&gt;
	&lt;/xsd:element&gt;
	
    
    &lt;!-- cm-properties --&gt;
    &lt;xsd:element name="cm-properties"&gt;
    	&lt;xsd:annotation&gt;
    		&lt;xsd:documentation source="java:org.springframework.osgi.compendium.cm.ConfigAdminPropertiesFactoryBean"&gt;&lt;![CDATA[
    Exposes the properties found in the Configuration Admin service under the given persistent id.
    		]]&gt;&lt;/xsd:documentation&gt;
			&lt;xsd:appinfo&gt;
				&lt;tool:annotation&gt;
					&lt;tool:exports type="java.util.Properties"/&gt;
				&lt;/tool:annotation&gt;
			&lt;/xsd:appinfo&gt;
    	&lt;/xsd:annotation&gt;
    	&lt;xsd:complexType&gt;
	    	&lt;xsd:complexContent&gt;
	    		&lt;xsd:extension base="beans:propsType"&gt;
	    			&lt;xsd:attribute name="id" type="xsd:ID"/&gt;
	    		    &lt;xsd:attribute name="persistent-id" type="xsd:string" use="required"&gt;
			        	&lt;xsd:annotation&gt;
	        				&lt;xsd:documentation&gt;&lt;![CDATA[
	The persistent id under which the properties reside.
	        				]]&gt;&lt;/xsd:documentation&gt;
	        			&lt;/xsd:annotation&gt;
	        		&lt;/xsd:attribute&gt;
					&lt;xsd:attribute name="local-override" type="xsd:boolean"&gt;
						&lt;xsd:annotation&gt;
							&lt;xsd:documentation&gt;&lt;![CDATA[
	Specifies whether local properties override properties from the Configuration Admin service.
	Default is "false": properties from Configuration Admin service override local defaults.
	If set to "true", local properties will override properties from Configuration Admin service.
							]]&gt;&lt;/xsd:documentation&gt;
						&lt;/xsd:annotation&gt;
					&lt;/xsd:attribute&gt;
	    		&lt;/xsd:extension&gt;
	    	&lt;/xsd:complexContent&gt;
    	&lt;/xsd:complexType&gt;
    &lt;/xsd:element&gt;

&lt;/xsd:schema&gt;
    </pre></div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="appendix-osgi-repo.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="appendix-ack.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix&nbsp;G.&nbsp;Spring DM OSGi Repository&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.SpringSource.com/" title="SpringSource - Spring from the Source">Sponsored by SpringSource
                                        </a></span></td><td width="40%" align="right" valign="top">&nbsp;Appendix&nbsp;I.&nbsp;Acknowledgments</td></tr></table></div></body></html>